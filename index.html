<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Heure dans les yeux</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --eye-y: 38%;
      --eye-left-x: 27%;
      --eye-right-x: 70%;
      --eye-font: 2vmin;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      display:grid;place-items:center;
      background:#0b0f13;
      color:#fff;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;
    }

    .frame{
      width:min(96vmin, 100vw);
      aspect-ratio:1/1;
      position:relative;
      border-radius:1rem;
      overflow:hidden;
      box-shadow:0 10px 40px rgba(0,0,0,.6), inset 0 0 60px rgba(0,0,0,.6);
      background:#0d1117;
    }

    .art{
      position:absolute; inset:0;
      background-image:url('eyes.png');
      background-position:center; background-size:cover; background-repeat:no-repeat;
      filter:contrast(1.05) saturate(0.9) brightness(0.95);
    }

    .vignette{position:absolute; inset:0; pointer-events:none;
      background:radial-gradient(120% 120% at 50% 50%, transparent 40%, rgba(0,0,0,.45) 75%, rgba(0,0,0,.85) 100%);
    }

    .clock{ 
      position:absolute; 
      top:var(--eye-y);
      transform:translate(-50%, -50%);
      line-height:1; letter-spacing:.06em;
      font-family:'Orbitron', monospace;
      font-weight:700;
      font-size:var(--eye-font);
      color:#ff7a18;
      text-shadow:
        0 0 4px rgba(255,122,24,.9),
        0 0 10px rgba(255,122,24,.8),
        0 0 22px rgba(255,122,24,.75),
        0 0 36px rgba(255,70,0,.55);
      animation:flick 2.5s infinite steps(2,start);
      white-space:nowrap;
      user-select:none;
      background-color:#000;
      border-radius:50%;
      padding:0.6em 0.7em;
    }

    .clock.left{ left:var(--eye-left-x); }
    .clock.right{ left:var(--eye-right-x); }

    @keyframes flick{ 50%{opacity:.96} }

    .motto{
      position:absolute; left:50%; bottom:4%; transform:translateX(-50%);
      font-size:clamp(10px, 2.2vmin, 18px);
      letter-spacing:.02em; color:#e9e9e9; white-space:nowrap;
      text-shadow:0 0 8px rgba(0,0,0,.8);
      background:#000;
      padding:.45em .8em; border-radius:.6em;
      opacity:1; transition:opacity .8s ease;
      user-select:none;
    }
    .motto.fade{ opacity:0; }

    .sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;}

    /* Ajustement mobile */
    @media (max-width:600px){
      :root{
        --eye-font: 2.5vmin;
        --eye-left-x: 28%;
        --eye-right-x: 70%;
        --eye-y: 39%;
      }
      .clock{padding:0.8em 0.9em;}
      .motto{font-size:clamp(12px, 3vmin, 20px); bottom:6%;}
    }
  </style>
</head>
<body>
  <main class="frame" role="img" aria-label="Illustration avec l'heure affichÃ©e dans les yeux.">
    <div class="art" aria-hidden="true"></div>
    <div class="vignette" aria-hidden="true"></div>

    <div class="clock left" aria-hidden="true">--:--:--</div>
    <div class="clock right" aria-hidden="true">--:--:--</div>

    <div id="sr-time" class="sr-only" aria-live="polite"></div>

    <div id="motto" class="motto" aria-live="polite"></div>
  </main>

  <script>
    function two(n){ return String(n).padStart(2,'0'); }
    function tick(){
      const d = new Date();
      const t = `${two(d.getHours())}:${two(d.getMinutes())}:${two(d.getSeconds())}`;
      for(const el of document.querySelectorAll('.clock')) el.textContent = t;
      document.getElementById('sr-time').textContent = `Il est ${t}`;
    }
    tick();
    setInterval(tick, 1000);

    const phrase = "MEMENTO MORI";
    const mottoEl = document.getElementById('motto');

    async function typeWriteCycle(){
      while(true){
        mottoEl.classList.remove('fade');
        mottoEl.textContent = '';
        for(let i=0;i<=phrase.length;i++){
          mottoEl.textContent = phrase.slice(0,i);
          await new Promise(r=>setTimeout(r,55));
        }
        await new Promise(r=>setTimeout(r,1200));
        mottoEl.classList.add('fade');
        await new Promise(r=>setTimeout(r,800));
      }
    }
    typeWriteCycle();
  </script>
</body>
</html>
